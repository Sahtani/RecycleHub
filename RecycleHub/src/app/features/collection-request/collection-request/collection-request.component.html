<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4">Créer une Demande de Collecte</h2>

  <form [formGroup]="requestForm" (ngSubmit)="onSubmit()">
    <!-- Sélection des types de déchets -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Type de déchet à recycler :</label>
      <div *ngFor="let type of wasteTypes">
        <input
          type="checkbox"
          [value]="type"
          (change)="onWasteTypeChange($event)"
          id="{{ type }}" />
        <label for="{{ type }}" class="ml-2">{{ type | titlecase }}</label>
      </div>
    </div>

    <!-- Photos (optionnel) -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Photos (optionnel) :</label>
      <input type="file" formControlName="photos" multiple class="border p-2">
    </div>

    <!-- Poids estimé -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Poids estimé (en grammes) :</label>
      <input type="number" formControlName="estimatedWeight" class="border p-2 w-full" placeholder="Entre 1000 et 10000">
      <div *ngIf="requestForm.get('estimatedWeight')?.invalid && requestForm.get('estimatedWeight')?.touched" class="text-red-600">
        <small *ngIf="requestForm.get('estimatedWeight')?.errors?.['required']">Champ obligatoire</small>
        <small *ngIf="requestForm.get('estimatedWeight')?.errors?.['min']">Minimum 1000g requis</small>
        <small *ngIf="requestForm.get('estimatedWeight')?.errors?.['max']">Maximum 10000g autorisé</small>
      </div>
    </div>

    <!-- Adresse de collecte -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Adresse de collecte :</label>
      <input type="text" formControlName="collectionAddress" class="border p-2 w-full" placeholder="Entrez l'adresse de collecte">
    </div>

    <!-- Date de collecte -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Date de collecte :</label>
      <input type="date" formControlName="collectionDate" class="border p-2 w-full">
    </div>

    <!-- Créneau horaire -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Créneau horaire (09:00-18:00) :</label>
      <input type="time" formControlName="timeSlot" class="border p-2 w-full">
    </div>

    <!-- Notes supplémentaires (optionnel) -->
    <div class="mb-4">
      <label class="block font-medium text-gray-700 mb-2">Notes supplémentaires :</label>
      <textarea formControlName="additionalNotes" class="border p-2 w-full" rows="3" placeholder="Ajoutez des informations supplémentaires"></textarea>
    </div>

    <!-- Bouton de soumission -->
    <button type="submit" class="w-full bg-indigo-600 hover:bg-indigo-800 text-white font-semibold py-2 px-4 rounded transition-all duration-300">
      Envoyer la demande
    </button>
  </form>
</div>
