<div class="container mx-auto p-4">
  <h2 class="text-2xl font-bold mb-4">Mes Demandes de Collecte</h2>
  <div *ngFor="let request of requests">
    <div class="border p-4 rounded mb-4">
      <p><strong>Adresse :</strong> {{ request.collectionAddress }}</p>
      <p><strong>Date :</strong> {{ request.collectionDate | date }}</p>
      <p><strong>Créneau :</strong> {{ request.timeSlot }}</p>
      <p><strong>Poids estimé :</strong> {{ request.estimatedWeight }} g</p>
      <p><strong>Status :</strong> {{ request.status }}</p>
      <!-- Actions selon le rôle -->
      <div *ngIf="currentUserRole === 'particular'">
        <!-- Boutons Modifier et Supprimer pour les demandes en attente -->
        <button *ngIf="request.status === 'en attente'" (click)="editRequest(request)">Modifier</button>
        <button *ngIf="request.status === 'en attente'" (click)="deleteRequest(request.id)">Supprimer</button>
      </div>
      <div *ngIf="currentUserRole === 'collector'">
        <!-- Pour un collecteur, contrôle de changement de statut -->
        <select [(ngModel)]="request.status" (change)="updateStatus(request)">
          <option value="en attente">En attente</option>
          <option value="occupée">Occupée</option>
          <option value="en cours">En cours</option>
          <option value="validée">Validée</option>
          <option value="rejetée">Rejetée</option>
        </select>
      </div>
    </div>
  </div>
</div>
